
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                String    @id @default(auto()) @map("_id") @db.ObjectId
  name              String?
  email             String    @unique
  password          String
  profilePic        String?
  passwordChangedAt DateTime?
  // isVerified        Boolean   @default(false)
  // canResetPassword  Boolean   @default(true)
  // isResetPassword   Boolean   @default(false)

  role              Role      @default(admin)
  isActive          Boolean   @default(true)
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt

  // Relations
  // numberLists  NumberList[]
  // callLogs     CallLog[]
  // callSettings CallSettings[]
  // appointments Appointment[]
  // templates    Template[]

  @@map("users")
}

enum Role {
  admin
  super_admin
}

// model NumberList {
//   id           String   @id @default(auto()) @map("_id") @db.ObjectId
//   name         String?
//   description  String?
//   totalNumbers Int?
//   uploadedAt   DateTime @default(now())

//   // Relations
//   uploadedBy   String   @db.ObjectId
//   user         User     @relation(fields: [uploadedBy], references: [id])
//   phoneNumbers PhoneNumber[]
//   callSettings CallSettings?

//   @@map("number_lists")
// }

// model PhoneNumber {
//   id           String            @id @default(auto()) @map("_id") @db.ObjectId
//   phone        String
//   companyName  String?
//   contactName  String?
//   notes        String?
//   status       PhoneNumberStatus @default(PENDING)
//   callAttempts Int               @default(0)
//   lastCalledAt DateTime?

//   // Relations
//   numberListId String     @db.ObjectId
//   numberList   NumberList @relation(fields: [numberListId], references: [id])
//   callLogs     CallLog[]

//   @@map("phone_numbers")
// }

// enum PhoneNumberStatus {
//   PENDING
//   IN_PROGRESS
//   COMPLETED
//   FAILED
//   DO_NOT_CALL
// }

// model CallSettings {
//   id             String   @id @default(auto()) @map("_id") @db.ObjectId
//   startDate      DateTime
//   dailyStartTime String
//   dailyEndTime   String
//   callDuration   Int
//   isActive       Boolean  @default(false)
//   createdAt      DateTime @default(now())
//   updatedAt      DateTime @updatedAt

//   // Relations
//   numberListId String     @unique @db.ObjectId
//   numberList   NumberList @relation(fields: [numberListId], references: [id])
//   createdBy    String     @db.ObjectId
//   user         User       @relation(fields: [createdBy], references: [id])

//   @@map("call_settings")
// }

// model CallLog {
//   id           String     @id @default(auto()) @map("_id") @db.ObjectId
//   phoneNumber  String
//   startTime    DateTime   @default(now())
//   endTime      DateTime?
//   duration     Int?
//   status       CallStatus
//   recordingUrl String?
//   transcript   String?

//   // AI-extracted info
//   servicesMentioned String[]
//   painPoints        String[]
//   objections        String[]
//   bookingStatus     BookingStatus @default(NOT_ATTEMPTED)

//   // Relations
//   userId          String      @db.ObjectId
//   user            User        @relation(fields: [userId], references: [id])
//   phoneNumberId   String?     @db.ObjectId
//   phoneNumberData PhoneNumber? @relation(fields: [phoneNumberId], references: [id])
//   appointment     Appointment?

//   @@map("call_logs")
// }

// enum CallStatus {
//   INITIATED
//   IN_PROGRESS
//   COMPLETED
//   FAILED
//   NO_ANSWER
//   BUSY
// }

// enum BookingStatus {
//   NOT_ATTEMPTED
//   SUCCESSFUL
//   REJECTED
//   CALLBACK_REQUESTED
// }

// model Appointment {
//   id            String            @id @default(auto()) @map("_id") @db.ObjectId
//   clientName    String?
//   companyName   String?
//   phoneNumber   String
//   serviceType   String?
//   notes         String?
//   dateTime      DateTime
//   status        AppointmentStatus @default(SCHEDULED)
//   googleEventId String?

//   // Relations
//   callLogId String?  @unique @db.ObjectId
//   callLog   CallLog? @relation(fields: [callLogId], references: [id])
//   createdBy String   @db.ObjectId
//   user      User     @relation(fields: [createdBy], references: [id])

//   @@map("appointments")
// }

// enum AppointmentStatus {
//   SCHEDULED
//   CONFIRMED
//   CANCELLED
//   COMPLETED
//   RESCHEDULED
// }

// model Template {
//   id        String       @id @default(auto()) @map("_id") @db.ObjectId
//   name      String
//   type      TemplateType
//   content   String
//   isActive  Boolean      @default(true)
//   createdAt DateTime     @default(now())
//   updatedAt DateTime     @updatedAt

//   // Relations
//   createdBy String @db.ObjectId
//   user      User   @relation(fields: [createdBy], references: [id])

//   @@map("templates")
// }

// enum TemplateType {
//   GREETING
//   MARKETING
//   FALLBACK
//   APPOINTMENT_CONFIRMATION
// }



